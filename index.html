<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sal del Seri â€“ Pedidos</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --naranja:#f36f21;
  --naranja-oscuro:#d85f1d;
  --verde:#2ecc71;
  --rojo:#e74c3c;
  --azul:#1e88e5;
  --fondo:#f7f2ea;
}

*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}

body{
  margin:0;
  background:var(--fondo);
}

/* HEADER */
header{
  background:var(--naranja);
  color:#fff;
  padding:10px 12px;
  display:flex;
  align-items:center;
  gap:12px;
  position:sticky;
  top:0;
  z-index:10;
}

.menu-btn{
  width:40px;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:26px;
  cursor:pointer;
  flex-shrink:0;
}

header img{
  height:35px;
}

header b{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  font-size:18px;
}

/* SIDEBAR */
.sidebar{
  position:fixed;
  top:0;
  left:-260px;
  width:260px;
  height:100%;
  background:#fff;
  box-shadow:2px 0 10px rgba(0,0,0,.15);
  padding:20px;
  transition:.3s;
  z-index:20;
}

.sidebar.active{left:0}

.sidebar h3{margin-top:0}

.sidebar button{
  width:100%;
  padding:12px;
  border:none;
  background:var(--naranja);
  color:#fff;
  font-size:16px;
  border-radius:8px;
  cursor:pointer;
}

/* CONTENIDO */
.container{
  padding:20px;
}

.card{
  background:#fff;
  border-radius:15px;
  padding:20px;
  box-shadow:0 8px 20px rgba(0,0,0,.1);
  animation:fade .4s ease;
}

@keyframes fade{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}

.order h3{margin:0 0 5px}

.buttons{
  margin-top:15px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

.buttons button{
  border:none;
  padding:10px 14px;
  color:#fff;
  border-radius:8px;
  cursor:pointer;
}

.maps{background:#4caf50}
.waze{background:var(--azul)}
.entregado{background:var(--verde)}
.cancelar{background:var(--rojo)}

/* VENTAS */
#ventas{
  display:none;
}

.stats{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:15px;
  margin-top:20px;
}

.stat{
  background:var(--naranja-oscuro);
  color:#fff;
  padding:20px;
  border-radius:15px;
  text-align:center;
}

canvas{
  margin-top:30px;
  max-height:300px;
}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <h3>MenÃº</h3>
  <button onclick="mostrarVentas()">ðŸ“Š Ventas</button>
</div>

<!-- HEADER -->
<header>
  <div class="menu-btn" onclick="toggleMenu()">â˜°</div>
  <img src="logo.png" alt="Sal del Seri">
  <b>PEDIDOS PENDIENTES</b>
</header>

<!-- PEDIDOS -->
<div class="container" id="pedidos">
  <div class="card order">
    <h3>Abarrotes Don Pedro</h3>
    <p>4ta perifÃ©rico 532</p>
    <p>Sacos: <b id="sacosPedido">100</b></p>
    <p>Total: <b>$13,500</b></p>

    <div class="buttons">
      <button class="maps" onclick="abrirMaps()">Maps</button>
      <button class="waze" onclick="abrirWaze()">Waze</button>
      <button class="entregado" onclick="entregar()">Entregado</button>
      <button class="cancelar">Cancelar</button>
    </div>
  </div>
</div>

<!-- VENTAS -->
<div class="container" id="ventas">
  <button onclick="volver()">â¬… Volver</button>

  <h2>ðŸ“Š Ventas del Mes</h2>

  <div class="stats">
    <div class="stat">
      <h3>Sacos vendidos</h3>
      <p id="totalSacos">0</p>
    </div>
    <div class="stat">
      <h3>Ingresos</h3>
      <p id="ingresos">$0</p>
    </div>
    <div class="stat">
      <h3>Ganancia</h3>
      <p id="ganancia">$0</p>
    </div>
  </div>

  <canvas id="grafica"></canvas>
</div>

<script>
let sidebar=document.getElementById("sidebar")
let pedidos=document.getElementById("pedidos")
let ventas=document.getElementById("ventas")

let sacosVendidos=0
let precioSaco=135
let costoProduccion=67.5

let chart

function toggleMenu(){
  sidebar.classList.toggle("active")
}

function mostrarVentas(){
  pedidos.style.display="none"
  ventas.style.display="block"
  sidebar.classList.remove("active")
  renderGrafica()
}

function volver(){
  ventas.style.display="none"
  pedidos.style.display="block"
}

function entregar(){
  let sacos=parseInt(document.getElementById("sacosPedido").innerText)
  sacosVendidos+=sacos
  actualizarVentas()
  alert("âœ… Pedido entregado")
}

function actualizarVentas(){
  let ingresos=sacosVendidos*precioSaco
  let ganancia=sacosVendidos*(precioSaco-costoProduccion)

  document.getElementById("totalSacos").innerText=sacosVendidos
  document.getElementById("ingresos").innerText="$"+ingresos.toLocaleString()
  document.getElementById("ganancia").innerText="$"+ganancia.toLocaleString()

  renderGrafica()
}

function renderGrafica(){
  let ctx=document.getElementById("grafica")
  if(chart) chart.destroy()

  chart=new Chart(ctx,{
    type:"bar",
    data:{
      labels:["Ventas"],
      datasets:[{
        label:"Sacos vendidos",
        data:[sacosVendidos],
        backgroundColor:"#f36f21"
      }]
    }
  })
}

/* MAPS COMPATIBLE */
function abrirMaps(){
  window.location.href="https://www.google.com/maps/search/?api=1&query=4ta+periferico+532"
}

/* WAZE */
function abrirWaze(){
  window.location.href="https://waze.com/ul?q=4ta%20periferico%20532"
}
</script>

</body>
</html>


